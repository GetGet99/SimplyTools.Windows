import{T as d}from"./D7TXt3Px.js";import{e as f,I as c,H as v,f as b,k as N,g as _,o as h,h as u}from"./CfbvuZjT.js";const B={real:!0,integer_0_to_60:!0,integer:!0,hex:!0,binary:!0,octal:!0,real_positive:!1,integer_positive:!1},p={real:/^-?([0-9]*[.])?[0-9]*$/,integer:/^-?[0-9][0-9]*$/,integer_0_to_60:/^(?:[0-9]|[1-5][0-9]|60)$/,real_positive:/^([0-9]*[.])?[0-9]*$/,integer_positive:/^[0-9]+$/,hex:/^-?[0-9a-fA-F]+$/,binary:/^-?[0-1]+$/,octal:/^-?[0-7]+$/},x={real:s(/[^0-9.\-]/g,!0),integer:s(/[^0-9\-]/g),real_positive:m(/[^0-9.]/g,!0),integer_positive:m(/[^0-9]/g),integer_0_to_60:m(/[^0-9]/g),hex:s(/[^0-9a-fA-F\-]/g),binary:s(/[^0-1\-]/g),octal:s(/[^0-7\-]/g)};function s(i,o=!1){return function(r){r=r.slice(0,100);let e=r.replace(i,"");if(e.startsWith("-")?e="-"+e.slice(1).replace(/-/g,""):e=e.replace(/-/g,""),o){const t=e.indexOf(".");t!==-1&&(e=e.slice(0,t+1)+e.slice(t+1).replace(/\./g,""))}return e}}function m(i,o=!1){return function(r){r=r.slice(0,100);let e=r.replace(i,"");if(o){const t=e.indexOf(".");t!==-1&&(e=e.slice(0,t+1)+e.slice(t+1).replace(/\./g,""))}return e}}const I=f({__name:"NumberBoxBase",props:c({placeholder:{},mode:{},min:{},max:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(i,{expose:o}){const r=i,e=v(i,"modelValue"),t=b("tb");return N(()=>r.mode,()=>{if(r.mode=="integer"){let a=e.value??"",n=a.indexOf(".");n>=0&&(a=a.slice(0,n)),e.value=a}},{immediate:!1}),o({tb:t}),(a,n)=>{const g=d;return h(),_(g,{ref_key:"tb",ref:t,placeholder:a.placeholder,"model-value":e.value,validate:l=>l===""||l==="-"&&("NumberNegativeSignBypass"in a?a.NumberNegativeSignBypass:u(B))[a.mode]?!0:("NumberInputRegexes"in a?a.NumberInputRegexes:u(p))[a.mode].test(l),"onUpdate:modelValue":n[0]||(n[0]=l=>{e.value=l}),role:"spinbutton","paste-preprocessor":("NumberNormalizeInput"in a?a.NumberNormalizeInput:u(x))[a.mode],"aria-valuenow":e.value,"aria-valuemin":a.min,"aria-valuemax":a.max,inputmode:"decimal",pattern:("NumberInputRegexes"in a?a.NumberInputRegexes:u(p))[a.mode].source},null,8,["placeholder","model-value","validate","paste-preprocessor","aria-valuenow","aria-valuemin","aria-valuemax","pattern"])}}}),z=Object.assign(I,{__name:"NumberBoxBase"});export{z as _};
