import{_ as $}from"./Bq5vR-02.js";import{u as J,U as K,_ as Q}from"./DGNIRpLh.js";import{_ as W}from"./D8PKUorR.js";import{_ as X}from"./gQrGCUfV.js";import{P as N}from"./DS_wuwuG.js";import{R as Y,P as Z}from"./D6qCJRVy.js";import{E as ee}from"./Dyf0n8s8.js";import{e as te,r as p,k as P,z as S,A as ne,q as oe,v as le,f as F,g as w,w as u,o as m,a as s,c as L,h as t,b as a,i as T,d as b,t as I,n as B}from"./CfbvuZjT.js";import"./CLnk0gVi.js";import"./D7TXt3Px.js";import"./CQCgYrss.js";import"./BAYpYBTo.js";import"./DlAUqK2U.js";const se={class:"flex flex-col items-center gap-8 w-full"},ae={key:0,class:"flex flex-col items-center gap-6 w-full max-w-xs"},ue={class:"flex gap-4 justify-center"},ie={key:1,class:"flex flex-col items-center gap-6 w-full max-w-xs"},re={class:"text-6xl sm:text-8xl"},me={class:"text-3xl"},de={class:"flex gap-4 mt-2"},ce=0,fe=5,pe=0,Ue=te({__name:"timer",setup(ve){J(K.pages.find(n=>n.path==="timer"));const d=p(ce),i=p(fe),c=p(pe),o=p((d.value*3600+i.value*60+c.value)*1e3),l=p(!1),y=p(!0);let v=null,R=0,k=0;function V(){o.value=(d.value*3600+i.value*60+c.value)*1e3}P([d,i,c],V);function E(){if(!l.value)return;const n=performance.now(),e=Math.max(k-n,0);o.value=e,e>0?v=requestAnimationFrame(E):(o.value=0,l.value=!1)}function U(){y.value=!1,!l.value&&o.value>0&&(l.value=!0,R=performance.now(),k=R+o.value,v=requestAnimationFrame(E))}function C(){l.value=!1,v&&(cancelAnimationFrame(v),v=null);const n=performance.now();o.value=Math.max(k-n,0)}function D(){C(),V()}const q=S(()=>Math.floor(o.value/6e4).toString().padStart(2,"0")),z=S(()=>Math.floor(o.value%6e4/1e3).toString().padStart(2,"0")),H=S(()=>Math.floor(o.value%1e3).toString().padStart(3,"0"));function A(n){if(l.value)return n.preventDefault(),n.returnValue="Timer is running. Are you sure you want to leave?","Timer is running. Are you sure you want to leave?"}const j=ne();let g=null;function G(n,e,r){l.value?confirm("Timer is running. Are you sure you want to leave?")?r():r(!1):r()}oe(()=>{window.addEventListener("beforeunload",A),g=j.beforeEach(G)}),le(()=>{window.removeEventListener("beforeunload",A),g&&(g(),g=null)});const h=F("minutesInputRef"),M=F("secondsInputRef");return P(i,(n,e)=>{n>=10&&n!==e&&h.value&&M.value?.nbb?.tb?.focus()}),(n,e)=>{const r=$,_=Q,x=W,O=X;return m(),w(O,{category:"none",tool:"Timer",class:"flex justify-center"},{summary:u(()=>e[9]||(e[9]=[b(" Simple timer with customizable time. ",-1)])),details:u(()=>e[10]||(e[10]=[s("p",null," Set any duration and start the timer. Pause, reset, or edit the time as needed. ",-1)])),default:u(()=>[s("div",se,[t(y)?(m(),L("div",ae,[e[7]||(e[7]=s("div",{class:"text-lg font-semibold mb-2"},"Set Timer",-1)),s("div",ue,[a(r,{placeholder:"Hours",mode:"integer_positive",modelValue:t(d),"onUpdate:modelValue":e[0]||(e[0]=f=>T(d)?d.value=f:null),min:0,class:"w-20"},null,8,["modelValue"]),e[4]||(e[4]=s("span",{class:"text-2xl font-bold"},":",-1)),a(r,{ref_key:"minutesInputRef",ref:h,placeholder:"Minutes",mode:"integer_0_to_60",modelValue:t(i),"onUpdate:modelValue":e[1]||(e[1]=f=>T(i)?i.value=f:null),min:0,max:99,class:"w-20"},null,8,["modelValue"]),e[5]||(e[5]=s("span",{class:"text-2xl font-bold"},":",-1)),a(r,{ref_key:"secondsInputRef",ref:M,modelValue:t(c),"onUpdate:modelValue":e[2]||(e[2]=f=>T(c)?c.value=f:null),min:0,max:59,mode:"integer_0_to_60",placeholder:"Seconds",class:"w-20"},null,8,["modelValue"])]),a(x,{variant:"accent",onClick:U,disabled:t(o)<=0,class:"mt-4 flex"},{default:u(()=>[a(_,{icon:t(N),alt:"Start",class:"w-5 h-5 mr-2"},null,8,["icon"]),e[6]||(e[6]=b(" Start Timer ",-1))]),_:1,__:[6]},8,["disabled"])])):(m(),L("div",ie,[s("div",re,[b(I(t(q))+":"+I(t(z)),1),e[8]||(e[8]=s("span",{class:"text-3xl sm:text-5xl"},".",-1)),s("span",me,I(t(H)),1)]),s("div",de,[t(l)?B("",!0):(m(),w(x,{key:0,onClick:D,title:"Reset",class:"p-4 rounded-full"},{default:u(()=>[a(_,{icon:t(Y),alt:"Reset",class:"w-5 h-5"},null,8,["icon"])]),_:1})),t(l)?(m(),w(x,{key:2,variant:"accent",onClick:C,title:"Pause",class:"p-4 rounded-full"},{default:u(()=>[a(_,{icon:t(Z),alt:"Pause",class:"w-5 h-5"},null,8,["icon"])]),_:1})):(m(),w(x,{key:1,variant:"accent",onClick:U,title:"Continue Timer",class:"p-4 rounded-full"},{default:u(()=>[a(_,{icon:t(N),alt:"Continue",class:"w-5 h-5"},null,8,["icon"])]),_:1})),t(l)?B("",!0):(m(),w(x,{key:3,onClick:e[3]||(e[3]=f=>y.value=!0),title:"Edit Time",class:"p-4 rounded-full"},{default:u(()=>[a(_,{icon:t(ee),alt:"Edit",class:"w-5 h-5"},null,8,["icon"])]),_:1}))])]))])]),_:1})}}});export{Ue as default};
