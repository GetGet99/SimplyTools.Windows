import{e as b,I as B,f as T,H as g,c as v,o as f,h as m,a6 as y}from"./CfbvuZjT.js";const P=["value","placeholder","readonly"],k=["value","placeholder","readonly"],E=b({__name:"TextBox",props:B({placeholder:{},multiline:{type:Boolean},readonly:{type:Boolean},validate:{type:Function},pastePreprocessor:{type:Function}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(u,{expose:h}){const o=u,n=T("tb"),t=g(u,"modelValue");function r(){const e=n.value.value;e!==t.value&&(o.validate&&!o.validate(e)?n.value.value=t.value??"":t.value=e)}function x(){n.value?.focus()}function p(e){if(o.pastePreprocessor){e.preventDefault();let l=e.clipboardData?.getData("text")??"";l=o.pastePreprocessor(l);const a=n.value,{selectionStart:s,selectionEnd:c,value:i}=a;if(s==null||c==null)a.value+=l;else{a.value=i.slice(0,s)+l+i.slice(c);const d=s+l.length;a.setSelectionRange(d,d)}a.dispatchEvent(new Event("input",{bubbles:!0}))}}return h({focus:x}),(e,l)=>e.multiline?(f(),v("textarea",{key:1,ref:"tb",value:t.value,placeholder:e.placeholder,autocomplete:"nope",readonly:"readonly"in e?e.readonly:m(y),class:"h-60 style-textbox",onInput:r,onPaste:p},null,40,k)):(f(),v("input",{key:0,ref:"tb",type:"text",value:t.value,onInput:r,placeholder:e.placeholder,autocomplete:"off",readonly:"readonly"in e?e.readonly:m(y),onPaste:p,class:"style-textbox"},null,40,P))}}),I=Object.assign(E,{__name:"TextBox"});export{I as T};
