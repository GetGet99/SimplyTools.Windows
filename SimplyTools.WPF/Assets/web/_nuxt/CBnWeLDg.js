import{_ as $}from"./D8PKUorR.js";import{T as B,a as I}from"./DyslB2wv.js";import{_ as O}from"./gQrGCUfV.js";import{u as E,D as L}from"./DGNIRpLh.js";import{e as M,K as q,q as R,v as S,z as A,g as x,w as o,o as c,a as r,b as m,h as a,t as f,d as l,c as g,F as y,y as C,J as T,E as _}from"./CfbvuZjT.js";import{_ as H}from"./DlAUqK2U.js";import"./CHIgUVhi.js";import"./6lJdN27k.js";import"./DsERhPW5.js";import"./CYbz5Rk_.js";import"./f9qc6Pkm.js";import"./DSiHE5pB.js";import"./C4BxkbrE.js";import"./D6zzu7ye.js";import"./BAYpYBTo.js";import"./CQCgYrss.js";const w={qword:{max:9223372036854775807n,min:-9223372036854775808n,mask:0xFFFFFFFFFFFFFFFFn,highestbit:1n<<63n},dword:{max:2147483647n,min:-2147483648n,mask:0xFFFFFFFFn,highestbit:1n<<31n},word:{max:32767n,min:-32768n,mask:0xFFFFn,highestbit:1n<<15n},byte:{max:127n,min:-128n,mask:0xFFn,highestbit:1n<<7n}};class U{base=10n;numType="qword";shiftMode="arith";negativeDisplay="complement";op="none";prev=0n;negZero=!1;value=0n;error="";type2Clear=!1;expressionDisplay="";get NumType(){return this.numType}set NumType(e){if(this.numType=e,this.isOutsideLimit(this.value)){this.value>=0?this.value=this.value&this.mask():this.value=this.complement(this.complement(this.value)&this.mask());let t=this.value>0?this.value:-this.value;t=t&this.mask()}}backspace(){if(!this.type2Clear){if(this.negZero){this.negZero=!1;return}if(this.base===10n||this.negativeDisplay==="complement")this.value=(this.value-this.value%this.base)/this.base;else{let e=this.asComplement(this.value);e=(e-e%this.base)/this.base,this.value=this.fromComplement(e)}}}clear(){this.value===0n&&(this.op="none",this.prev=0n,this.expressionDisplay=""),this.value=0n,this.negZero=!1}mask(){return w[this.numType].mask}complement(e){return e=(e^this.mask())+1n,-e}asComplement(e){return e<0n&&(e=this.complement(e)),e}fromComplement(e){return(e&w[this.numType].highestbit)!==0n&&(e=this.complement(e)),e}fromComplementDiscardOverflow(e){return this.fromComplement(e&w[this.numType].mask)}format(e,t,u,d){u===void 0&&(u=this.negativeDisplay==="complement"),typeof t=="bigint"&&(t=Number(t)),d===void 0&&(d=t===16||t===2?4:3),e<0&&u&&t!==10&&(e=this.complement(e));const k=e<0n;let b=(k?-e:e).toString(t);if(b==="0")return"0";const p=b.length%d,s=[];p&&s.push(b.slice(0,p));for(let h=p;h<b.length;h+=d)s.push(b.slice(h,h+d));const n=s.join(t===10?",":" ");return k?`-${n}`:n}displayOf(e){return this.format(e,this.base)}neg(){let e=-this.value;this.isOutsideLimit(e)||(this.value=e)}binary(e){if(this.type2Clear&&this.op!="none")return;let t=this.op==="none"?this.displayOf(this.value):this.calc();this.base!==10n&&(t=`${t}<sub>${this.base}</sub>`),this.expressionDisplay=`${t} ${e}`,this.prev=this.value,this.op=e,this.type2Clear=!0}calc(){if(this.op==="none")return this.displayOf(this.value);let e=this.displayOf(this.value);switch(this.base!==10n&&(e=`${e}<sub>${this.base}</sub>`),this.expressionDisplay=`${this.expressionDisplay} ${e} =`,this.op){case"&":this.value=this.fromComplement(this.asComplement(this.prev)&this.asComplement(this.value));break;case"|":this.value=this.fromComplement(this.asComplement(this.prev)|this.asComplement(this.value));break;case"+":this.value=this.fromComplementDiscardOverflow(this.asComplement(this.prev)+this.asComplement(this.value));break;case"-":this.value=this.fromComplementDiscardOverflow(this.asComplement(this.prev)-this.asComplement(this.value));break;case"×":this.value=this.fromComplementDiscardOverflow(this.prev*this.value);break;case"÷":if(this.value===0n){this.error="Cannot divide by 0",this.value=0n;break}this.value=this.fromComplementDiscardOverflow(this.prev/this.value);break;case"<<":this.value=this.fromComplementDiscardOverflow(this.asComplement(this.prev)<<this.value);break;case">>":if(this.shiftMode==="logical"){let t;t=this.asComplement(this.prev)>>this.value,this.value=this.fromComplement(t)}else if(this.shiftMode==="arith")if(this.value>0n){let t;t=this.asComplement(this.prev)>>this.value,this.value=this.fromComplement(t)}else this.value=this.prev>>this.value;break;case"%":this.value=this.prev%this.value;break}return this.prev=0n,this.op="none",this.type2Clear=!0,this.displayOf(this.value)}bitwise_not(){if(this.value>=0)this.value=this.complement(this.value^this.mask());else{const e=this.complement(this.value);this.value=e^this.mask()}}append(e){let t=this.value;if(this.type2Clear&&(t=0n),this.type2Clear=!1,!(e>=this.base))if(this.base===10n||this.negativeDisplay==="signed"){const u=t*this.base+e*(this.value<0?-1n:1n);if(this.isOutsideLimit(u))return;this.value=u}else{if(t=this.asComplement(t)*this.base+e,t>w[this.numType].mask)return;this.value=this.fromComplement(t)}}isOutsideLimit(e){return e>w[this.numType].max||e<w[this.numType].min}}class G{calc;constructor(e){this.calc=e}type(e){if(e==="Backspace"){this.calc.backspace();return}else if(e==="Enter"||e==="="||e===`
`){this.calc.calc();return}else if(e==="~"||e==="!"){this.calc.bitwise_not();return}else if(e==="&"||e==="|"||e===">>"||e==="<<"||e==="%"||e==="+"||e==="-"||e==="×"||e==="÷"){this.calc.binary(e);return}else if(e===">"||e==="<"){this.calc.binary(`${e}${e}`);return}else if(e==="*"){this.calc.binary("×");return}else if(e==="/"){this.calc.binary("÷");return}else if(e==="_"||e==="+/-"){this.calc.neg();return}else if(e==="x"){this.calc.base=16n;return}else if(e==="d"){this.calc.base=10n;return}else if(e==="o"){this.calc.base=8n;return}else if(e==="b"){this.calc.base=2n;return}else{if(e.length!==1)return;let t=e.charCodeAt(0),u=BigInt(-1);if(t>=48&&t<=57)u=BigInt(t-48);else if(t>=65&&t<=70)u=BigInt(t-65+10);else if(t>=97&&t<=102)u=BigInt(t-97+10);else return;this.calc.append(u)}}}const P={class:"flex flex-col w-full sm:w-[unset] sm:min-w-100 gap-2 bg-card pt-4 rounded-4"},V={class:"flex flex-col text-right"},Z=["innerHTML"],j={class:"h1 uppercase justify-end"},z={class:"text-right select-text"},W={class:"w-4 text-body text-left inline-block"},K={class:"max-w-75 uppercase text-left",style:{"line-height":"16px"}},J={class:"flex"},Q=["data-num"],X=M({__name:"progcalc",setup(D){E(L.pages.find(p=>p.path==="progcalc"));const e=q(new U),t=new G(e);function u(p,s){s===void 0&&(s=e.base);const n={variant:"none",class:"border-transparent text-disabled",disabled:!0};if(p==="("||p===")")return n;let h=p.charCodeAt(0),v=BigInt(-1);if(h>=48&&h<=57)v=BigInt(h-48);else if(h>=65&&h<=70)v=BigInt(h-65+10);else if(h>=97&&h<=102)v=BigInt(h-97+10);else return{};return v>=10&&s<=10n||v>=8&&s<=8n||v>=2&&s===2n?n:{}}function d(p){p.key==="Enter"&&p.preventDefault(),t.type(p.key)}function k(p){p.preventDefault();let s=p.clipboardData?.getData("text")??"";for(const n of s)n!=="_"&&t.type(n)}R(()=>{window.addEventListener("keydown",d),window.addEventListener("paste",k)}),S(()=>{window.removeEventListener("keydown",d),window.removeEventListener("paste",k)});const b=A(()=>e.error||e.displayOf(e.value));return(p,s)=>{const n=$,h=I,v=B,N=O;return c(),x(N,{category:"dev",tool:"Programmer Calculator",class:"flex justify-center"},{summary:o(()=>s[13]||(s[13]=[l(" Convert numbers between decimal, hexadecimal, binary, and octal, with support for bit shifts up to 64-bits. ",-1)])),details:o(()=>s[14]||(s[14]=[r("p",null," This calculator lets you work across multiple number systems — base 10 (decimal), base 16 (hexadecimal), base 8 (octal), and base 2 (binary). It’s designed for quick conversions and bit-level operations. ",-1),r("ul",null,[r("li",null,[l("Switch between "),r("strong",null,"logical"),l(" and "),r("strong",null,"arithmetic"),l(" bit shifts with the “Bit Shifts” toggle.")]),r("li",null,[l("Choose how negative numbers appear: as raw two’s complement bits (e.g., "),r("code",null,"FFFF FF85"),l(") or as the signed value (e.g., "),r("code",null,"-7B"),l(").")]),r("li",null,[l("Handle values up to "),r("strong",null,"64 bits"),l(", with support for QWORD (64-bit), DWORD (32-bit), WORD (16-bit), and BYTE (8-bit) modes.")])],-1),r("p",null," ⚠️ Note: numbers can overflow depending on the selected size. This tool simulates real overflow behavior, so results match what you’d see in actual computation. ",-1)])),default:o(()=>[r("div",P,[r("div",V,[r("span",{class:"h2 h-5 text-subtitle uppercase mr-4",innerHTML:a(e).expressionDisplay},null,8,Z),r("div",j,[r("span",z,f(a(b)),1),r("div",W,[r("sub",null,f(a(e).base!==10n?a(e).base:""),1)])])]),a(e).negativeDisplay==="signed"?(c(),x(n,{key:0,class:"bg-transparent border-transparent",onClick:s[0]||(s[0]=i=>a(e).negativeDisplay="complement")},{default:o(()=>s[8]||(s[8]=[l(" Negative Display: NUMBER ",-1)])),_:1,__:[8]})):(c(),x(n,{key:1,class:"bg-transparent border-transparent",onClick:s[1]||(s[1]=i=>a(e).negativeDisplay="signed")},{default:o(()=>s[9]||(s[9]=[l(" Negative Display: BITS ",-1)])),_:1,__:[9]})),m(v,{"model-value":"base","onUpdate:modelValue":s[2]||(s[2]=i=>i&&(a(e).base=i)),class:"grid grid-rows-4 gap-2 text-sm"},{default:o(()=>[(c(),g(y,null,C([16n,10n,8n,2n],i=>m(h,{"as-child":"",value:i},{default:o(()=>[m(n,{class:T(["baseDisplay bg-transparent border-transparent h-10 flex items-center",a(e).base===i?"selected":""])},{default:o(()=>[r("span",{class:T(["label",a(e).base===i?"selected":""])},f(i===16n?"HEX":i===10n?"DEC":i===8n?"OCT":"BIN"),3),r("span",K,f(a(e).format(a(e).value,i)),1)]),_:2},1032,["class"])]),_:2},1032,["value"])),64))]),_:1}),r("div",J,[m(n,{class:"uppercase w-25 bg-transparent border-transparent",onClick:s[3]||(s[3]=()=>{a(e).NumType==="byte"?a(e).NumType="qword":a(e).NumType==="qword"?a(e).NumType="dword":a(e).NumType==="dword"?a(e).NumType="word":a(e).NumType==="word"&&(a(e).NumType="byte")})},{default:o(()=>[l(f(a(e).NumType),1)]),_:1}),m(n,{class:"w-50 bg-transparent border-transparent",onClick:s[4]||(s[4]=()=>{a(e).shiftMode==="arith"?a(e).shiftMode="logical":a(e).shiftMode="arith"})},{default:o(()=>[l("Shift mode: "+f(a(e).shiftMode.toUpperCase()),1)]),_:1})]),r("div",{class:"grid grid-cols-5 grid-row-6 gap-1 p-2","data-num":a(e).base},[(c(),g(y,null,C(["A","<<",">>"],i=>m(n,_({class:"key"},{ref_for:!0},u(i),{onClick:F=>a(t).type(i)}),{default:o(()=>[l(f(i),1)]),_:2},1040,["onClick"])),64)),m(n,{class:"key",onClick:s[5]||(s[5]=i=>a(e).clear())},{default:o(()=>[l(f(a(e).value===0n?"C":"CE"),1)]),_:1}),m(n,{class:"key",onClick:s[6]||(s[6]=i=>a(e).backspace())},{default:o(()=>s[10]||(s[10]=[l("DEL",-1)])),_:1,__:[10]}),(c(),g(y,null,C(["B","(",")","%","÷"],i=>m(n,_({class:"key"},{ref_for:!0},u(i),{onClick:F=>a(t).type(i)}),{default:o(()=>[l(f(i),1)]),_:2},1040,["onClick"])),64)),(c(),g(y,null,C(["C","7","8","9","×"],i=>m(n,_({class:"key"},{ref_for:!0},u(i),{onClick:F=>a(t).type(i)}),{default:o(()=>[l(f(i),1)]),_:2},1040,["onClick"])),64)),(c(),g(y,null,C(["D","4","5","6","-"],i=>m(n,_({class:"key"},{ref_for:!0},u(i),{onClick:F=>a(t).type(i)}),{default:o(()=>[l(f(i),1)]),_:2},1040,["onClick"])),64)),(c(),g(y,null,C(["E","1","2","3","+"],i=>m(n,_({class:"key"},{ref_for:!0},u(i),{onClick:F=>a(t).type(i)}),{default:o(()=>[l(f(i),1)]),_:2},1040,["onClick"])),64)),(c(),g(y,null,C(["F","+/-","0"],i=>m(n,_({class:"key"},{ref_for:!0},u(i),{onClick:F=>a(t).type(i)}),{default:o(()=>[l(f(i),1)]),_:2},1040,["onClick"])),64)),m(n,{variant:"none",class:"key border-transparent text-disabled",disabled:""},{default:o(()=>s[11]||(s[11]=[l(".",-1)])),_:1,__:[11]}),m(n,{class:"key rounded-br-[calc(2_*_0.25rem)]",variant:"accent",onClick:s[7]||(s[7]=i=>a(t).type("="))},{default:o(()=>s[12]||(s[12]=[l(f("="),-1)])),_:1,__:[12]})],8,Q)])]),_:1})}}}),de=H(X,[["__scopeId","data-v-052328bd"]]);export{de as default};
